<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
  <title></title>
</head>
<body>
<script>
  function weekNo() {
    var totalDays = 0;
    now = new Date();
    years = now.getYear();
    if (years < 1000)
      years += 1900
    var days = new Array(12);
    days[0] = 31;
    days[2] = 31;
    days[3] = 30;
    days[4] = 31;
    days[5] = 30;
    days[6] = 31;
    days[7] = 31;
    days[8] = 30;
    days[9] = 31;
    days[10] = 30;
    days[11] = 31;
    // 您的代码
    if (Math.round(now.getYear() / 4) == now.getYear() / 4) {//判断是否是闰年
      days[1]=29;
    } else {
      days[1]=28;
    }
    if (now.getMonth() == 0) {
      totalDays=days[0]
    } else {
      for (var i=0;i<now.getMonth();i++){
        totalDays+=days[i]
      }
    }
    var week = Math.round(totalDays / 7);
    return week;
  }

  document.write("现在是第 <b>" + weekNo() + "</b> 个星期(" + years + "中的)")
</script>

</body>
</html>
